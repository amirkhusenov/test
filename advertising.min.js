async function fetchData() { let t = await fetch("https://62c6f5e76c899185.mokky.dev/advertisement-info/1"), e = await t.json(); if (!t.ok) throw Error(e.message || "Something went wrong"); return e } async function fetchRedirectData() { try { let t = await fetchData(); console.log("input", t), t.redirects_qty++; let e = await fetch("https://62c6f5e76c899185.mokky.dev/advertisement-info/1", { method: "PATCH", headers: { "Content-Type": "application/json" }, body: JSON.stringify(t) }), a = await e.json(); console.log("output", a) } catch (n) { console.error(n) } } const btns = document.querySelectorAll(".advertisement"); btns.forEach(t => { t.addEventListener("click", () => { fetchRedirectData() }) });